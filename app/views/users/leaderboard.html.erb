<div class="box">
  <h2 class="title is-2">Leaderboard</h2>
  <table class="table is-bordered is-striped is-hoverable is-fullwidth">
    <thead>
      <tr>
        <th>
          <abbr title="Position">Position</abbr>
        </th>
        <th>Username</th>
        <th>
          <abbr title="Score">Score</abbr>
        </th>
        <th>
          <abbr title="Polls Asked">Polls Asked</abbr>
        </th>
        <th>
          <abbr title="Followers">Followers</abbr>
        </th>
        <th>
          <abbr title="Following">Following</abbr>
        </th>
      </tr>
    </thead>
    <% counter = 0 %>
      <% @users.order(score: :desc).each do |user| %>
        <% if user.id == current_user.id %>
          <tbody>
            <tr class="is-selected">
              <th><%= counter+=1 %></th>
              <td><%= link_to "@" + user.username, user_path(user.id) %></td>
              <td><%= user.score %></td>
              <td><%= user.polls.count %></td>
              <td><%= user.followers.count %></td>
              <td><%= user.following.count %></td>
            </tr>
          <% else %>
            <tr>
              <th><%= counter+=1 %></th>
              <td><%= link_to "@" + user.username, user_path(user.id) %></td>
              <td><%= user.score %></td>
              <td><%= user.polls.count %></td>
              <td><%= user.followers.count %></td>
              <td><%= user.following.count %></td>
            </tr>
          <% end %>
        <% end %>
      </table>
    </div>
